/*
 * Theme Name: Faustman
 * Theme URI: http://jonfaustman.com/
 * Description: My own theme.
 * Version: 1.4
 * Author: Jon Faustman
 * Author URI: http://jonfaustman.com/
 **/

@import base


// Project variables
// Colors
$base-color: #111
$base-color-invert: invert($base-color)
$base-color-invert-darken-6: darken($base-color-invert, 6.5deg)
$base-color-invert-lighten-6: lighten($base-color-invert, 6.5deg)
$base-color-lighten-13: lighten($base-color, 13.3deg)
$base-color-lighten-33: lighten($base-color, 33.3deg)
$base-color-link: rgb(110, 155, 220)
$base-color-link-hue-49: adjust-hue($base-color-link, 49deg)
$base-color-link-hue-120: adjust-hue($base-color-link, 120deg)
$base-color-link-hue-neg-71: adjust-hue($base-color-link, -71deg)

// Fonts
$base-font-size: 14px
$base-font-family-sans-serif: Arial, sans-serif
$base-font-family-serif: Georgia, 'Times New Roman', Times, serif
$base-line-height: 1.5

// Headings
@mixin hN($size)
    $size: ceil($size)
    +font($size: $size, $height: 1.1)
    margin-bottom: em(20px, $base: $size)
    @extend %hN

// Responsive
$respond-to-desktop: em(769px)

// Silent classes
@for $i from 1 through 10
    %col-#{$i}
        width: percentage(1/$i)
    .col-#{$i}
        @extend %col-#{$i}

%base-color
    color: $base-color

%base-color-invert
    color: $base-color-invert

%base-color-lighten-13-background
    background-color: $base-color-lighten-13

%base-vertical-rhythm
    margin-bottom: $base-line-height + em

// Generic settings
// Set for rem purposes.
html
    font-size: percentage($base-font-size/16px)

body
    background-color: $base-color
    @extend %base-color-invert
    +font($size: $base-font-size, $height: $base-line-height, $family: $base-font-family-sans-serif, $shorthand: true)

::-moz-selection
    text-shadow: none
    background: $base-color-link-hue-120

::selection
    text-shadow: none
    background:  $base-color-link-hue-120

a
    color: $base-color-link
    text-decoration: none
    +transition(color .2s linear)
    &:visited
        color: $base-color-link-hue-49
    &:active,
    &:focus,
    &:hover
        color: $base-color-link-hue-120
        text-decoration: none

em
    +font($style: italic)

%hN
    +font($family: $base-font-family-serif, $weight: bold)
    text-redering: optimizeLegibility
    +text-shadow(0 1px 0 rgba(255,255,255,.3))

h1,
.h1
    +hN(28.383px)
    .home &
        margin-bottom: 0
        +respond-to(desktop)
            margin-bottom: em(20px, $base: 29px)

h2,
.h2
    +hN(25.229px)

h3,
.h3
    +hN(22.426px)

h4,
.h4
    +hN(19.934px)

h5,
.h5
    +hN(17.719px)

h6,
.h6
    +hN(15.75px)

img
    max-width: 100%

label
    cursor: pointer

abbr
    border-bottom: 1px dotted $base-color-invert
    cursor: help

blockquote,
p,
ol,
ul,
fieldset > legend,
pre
    @extend %base-vertical-rhythm

ol,
ul
    list-style: disc outside
    margin-left: em(20px)

blockquote,
.repost
    @extend %base-color-lighten-13-background
    border-left: 3px solid $base-color-lighten-33
    +font($size: 12px)
    padding: em(10px, $base: 12px) 0 em(10px, $base: 12px) em(20px, $base: 12px)

pre > code
    display: block
    white-space: pre-wrap
    white-space: -moz-pre-wrap
    white-space: -pre-wrap
    white-space: -o-pre-wrap
    word-wrap: break-word

.del,
del
    text-decoration: line-through

table
    border-collapse: collapse
    @extend %base-vertical-rhythm
    @extend %col-1
    tr
        vertical-align: top
        th
            background-color: $base-color-invert
            @extend %base-color
            +font($weight: bold)
            padding: em(10px)
        td
            padding: em(10px)


// Main layout
#wrapper
    margin: 0 auto
    +respond-to(desktop)
        min-width: $respond-to-desktop
        max-width: em(960px)

.sections,
.wp-pagenavi
    padding: 0 em(20px)
    +respond-to(desktop)
        margin-left: em(80px)
        padding: 0
        position: relative


// Prominent layout links
%prominent-link
    background-color: $base-color-invert-darken-6
    border: 3px solid $base-color-lighten-13
    +box-sizing(border-box)
    @extend %base-color
    display: inline-block
    +font($weight: bold)
    line-height: 39px
    text-align: center
    +transition(background-color .2s linear)
    &:active,
    &:focus,
    &:hover
        background-color: $base-color-invert-lighten-6

.nav__link,
.wp-pagenavi > .current,
.wp-pagenavi > .page,
.wp-pagenavi > .previouspostslink,
.wp-pagenavi > .first,
.wp-pagenavi > .nextpostslink,
.wp-pagenavi > .last
    @extend %prominent-link


// Header and navigation.
.header
    height: em(172px)

.nav__link
    +border-top-left-radius(10px)
    +border-top-right-radius(10px)
    +font($size: 12px)
    left: 20px
    position: absolute
    text-align: center
    top: 130px
    width: em(60px, $base: 12px)
    z-index: 1
    &:link,
    &:visited
        @extend %base-color
    +respond-to(desktop)
        font-size: inherit
        left: 0
        width: em(80px)

.nav__link--about
    left: 77px

.nav__link--articles
    left: 134px
    +respond-to(desktop)
        left: 154px

.nav__link--hire
    left: 191px
    +respond-to(desktop)
        left: 231px

.nav__link--search
    +border-radius(0)
    +border-top-left-radius(10px)
    +border-top-right-radius(10px)
    @extend %base-color
    +font($family: inherit, $weight: bold)
    left: 248px
    margin: 0
    outline: 0
    padding: 0
    +transition(width .2s linear)
    -webkit-appearance: none
    +respond-to(desktop)
        left: 308px
    &:-ms-input-placeholder
        color: $base-color
        +font($weight: bold)
    &:-moz-placeholder
        color: $base-color
        +font($weight: bold)
    &::-moz-placeholder
        color: $base-color
        +font($weight: bold)
    &::-webkit-input-placeholder 
        color: $base-color
        +font($weight: bold)
    &::-webkit-search-decoration,
    &::-webkit-search-cancel-button
        display: none
    &:focus,
    &:hover
        +respond-to(desktop)
            width: 160px

.nav__link--active
    background-color: $base-color
    border-bottom-color: $base-color
    @extend %base-color-invert
    &:link,
    &:visited
        @extend %base-color-invert
    &:active,
    &:focus,
    &:hover
        color: $base-color

.nav__link--skip
    @extend %base-color
    display: block
    left: 0
    position: absolute
    text-align: right
    top: 0
    @extend %col-1
    &:visited
        @extend %base-color
    &:active,
    &:focus,
    &:hover
        color: $base-color-invert-lighten-6

.nav__link--logo
    background: url(static/img/jon-faustman-logo.png) no-repeat
    display: block
    height: 49px
    left: 20px
    position: absolute
    text-indent: -999em
    top: 60px
    width: 298px
    +respond-to(desktop)
        left: 0
    &:active,
    &:focus,
    &:hover
        background-position: 0 -58px

#content
    border: 3px solid $base-color-lighten-13
    border-left: none
    padding: em(20px) em(20px) 0
    +respond-to(desktop)
        padding: em(20px) em(80px) 0 0


// Articles
.article
    display: block
    +respond-to(desktop)
        margin-bottom: em(80px)
        position: relative
    &:last-child
        margin-bottom: 0

.article__date
    display: block
    +font($size: 20px)
    margin-bottom: em(20px)
    +respond-to(desktop)
        background-color: $base-color-invert-darken-6
        border: 3px solid $base-color-lighten-13
        +border-radius(10px)
        +box-sizing(border-box)
        color: $base-color
        display: inline-block
        +font($size: 20px, $height: 1, $family: $base-font-family-serif, $shorthand: true)
        left: -80px
        margin: 0
        padding: em(4px, $base: 20px) 0
        position: absolute
        +transition(background-color .2s linear)
        text-align: center
        top: 0
        width: em(60px, $base: 20px)
    a:active &,
    a:focus &,
    a:hover &
        +respond-to(desktop)
            background-color: $base-color-invert-lighten-6

.article__date--day
    +respond-to(desktop)
        display: block
        +font($size: 26px, $style: normal, $weight: bold)
    &::before
        content: ' '
        +respond-to(desktop)
            content: ''
    &::after
        content: ', '
        +respond-to(desktop)
            content: ''

.article__date--year
    +respond-to(desktop)
        display: none

.article__title
    letter-spacing: -1px

a .article__content
    @extend %base-color-invert


// Footer
.footer
    padding: em(20px)
    +respond-to(desktop)
        padding: em(20px) 0
    
.footer__copy,
.footer__social
    text-align: center

.footer__social
    margin-left: 0
    +respond-to(desktop)
        margin-left: em(20px)
        text-align: left
    > li
        display: inline
        padding-right: em(10px)
        +respond-to(desktop)
            display: list-item
            padding-right: 0
        &::last-child
            padding-right: 0

.footer__about
    +respond-to(desktop)
        background: url(static/img/avatar.jpg) 100% 0 no-repeat
        +box-sizing(border-box)
        padding-right: em(80px)
        position: absolute
        right: 0
        top: em(70px)
        width: 75%

.footer__heading--about
    @extend h4
    +respond-to(desktop)
        position: absolute
        right: 0
        top: auto
        width: 75%

.footer__social,
.footer__heading--social
    +respond-to(desktop)
        width: 25%

.footer__heading--social
    @extend h4


// wp-pagenavi plugin
.wp-pagenavi
    @extend %base-vertical-rhythm
    +respond-to(desktop)
        margin-top: -3px
    > .current,
    > .page,
    > .previouspostslink,
    > .first,
    > .nextpostslink,
    > .last
        border: 0
        display: block
        margin: em(10px) 0
        width: auto
        +respond-to(desktop)
            +border-bottom-left-radius(10px)
            +border-bottom-right-radius(10px)
            border: 3px solid $base-color-lighten-13
            display: inline-block
            margin: 0  0 0 -3px
            width: em(80px)
    > .current
        background-color: $base-color
        border-top-color: $base-color
        @extend %base-color-invert
        &:active,
        &:focus,
        &:hover
            @extend %base-color
        +respond-to(desktop)
            border-top-color: $base-color


// Prism
code[class*="language-"],
pre[class*="language-"]
    color: $base-color-invert
    font-family: Consolas, Monaco, 'Andale Mono', monospace
    direction: ltr
    text-align: left
    word-spacing: normal
    -moz-tab-size: 4
    -o-tab-size: 4
    tab-size: 4
    -webkit-hyphens: none
    -moz-hyphens: none
    -ms-hyphens: none
    hyphens: none

// Code blocks
pre[class*="language-"]
    @extend %base-color-lighten-13-background
    border-left: 3px solid $base-color-lighten-33
    +font($size: 12px)
    padding: em(10px, $base: 12px) 0 em(10px, $base: 12px) em(20px, $base: 12px)

::not(pre) > code[class*="language-"],
pre[class*="language-"]
    background: #f5f2f0

// Inline code
::not(pre) > code[class*="language-"]
    padding: .1em
    border-radius: .3em

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata
    color: $base-color-lighten-33

.token.punctuation
    color: $base-color-lighten-33

.namespace
    opacity: .7

.token.property,
.token.tag,
.token.boolean,
.token.number
    color: $base-color-link-hue-120

.token.selector,
.token.attr-name,
.token.string
    color: $base-color-link-hue-neg-71

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string
    color: $base-color-link-hue-49

.token.atrule,
.token.attr-value,
.token.keyword
    color: $base-color-link

.token.regex,
.token.important
    color: $base-color-link-hue-49

.token.important
    font-weight: bold

.token.entity
    cursor: help


// Utility classes
.alpha
    list-style-type: lower-alpha

[data=answer-correct]
    color: $base-color-link-hue-neg-71
    +font($weight: bold)

.odd
    @extend %base-color-lighten-13-background

// Photo's
.well
    @extend %base-color-lighten-13-background
    border: 3px solid $base-color-lighten-33
    @extend %base-vertical-rhythm
    padding: em(10px)

.cutline
    +font($size: 10px)

.cutline p:last-child
    margin-bottom: 0

// Desktop utility classes
+respond-to(desktop)
    .float-left
        float: left

    .float-right
        float: right